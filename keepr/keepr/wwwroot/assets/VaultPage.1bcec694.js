import{u as h,p as y,D as p,c as l,a as V,o as r,b as i,d as s,t as g,q as E,F as T,A as b,E as K}from"./vendor.b8f97afc.js";import{_ as k,v,P as o,b as w,A as u}from"./index.af39ecc8.js";const A={setup(){const c=h(),a=y();return p(async()=>{try{await v.getById(a.params.id)}catch(t){console.error("[THIS_VAULT_IS_PRIVATE]",t.message),o.toast("You do not have access to this vault","error"),c.push({name:"Home"})}}),p(async()=>{try{await w.getVaultKeepsByVault(a.params.id)}catch(t){console.error("[COULD_NOT_GET_KEEPS_IN_VAULT]",t.message),o.toast(t.message,"error")}}),{vault:l(()=>u.activeVault),account:l(()=>u.account),vaultKeeps:l(()=>u.activeVaultKeeps),async deleteVault(t){try{await o.confirm()&&(await v.delete(t),o.toast("Vault Deleted","success"),c.push({name:"Profile",params:{id:this.account.id}}))}catch(e){console.error("[COULD_NOT_DELETE_VAULT]",e.message),o.toast(e.message,"error")}}}}},D={class:"container"},L={class:"row justify-content-between my-5"},S={class:"col-6"},B={class:"comfortaa"},I={key:0,class:"col-6 text-end"},P={class:"masonry-with-columns"};function x(c,a,t,e,C,N){var d,_;const f=V("Keep");return r(),i("div",D,[s("div",L,[s("div",S,[s("h1",B,g((d=e.vault)==null?void 0:d.name),1)]),e.account.id===((_=e.vault)==null?void 0:_.creatorId)?(r(),i("div",I,[s("button",{class:"btn btn-outline-secondary btn-lg",onClick:a[0]||(a[0]=n=>{var m;return e.deleteVault((m=e.vault)==null?void 0:m.id)})}," Delete Vault ")])):E("",!0)]),s("div",P,[(r(!0),i(T,null,b(e.vaultKeeps,n=>(r(),K(f,{key:n.id,keep:n},null,8,["keep"]))),128))])])}var j=k(A,[["render",x]]);export{j as default};
