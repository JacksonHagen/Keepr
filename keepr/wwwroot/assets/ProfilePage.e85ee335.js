import{p as O,D as u,c as m,M as K,a as i,o as a,b as o,d as r,e as d,q as U,F as v,A as h,B as _,y as p,E as C}from"./vendor.b8f97afc.js";import{a as f,A as c,_ as x,P as g}from"./index.af39ecc8.js";class E{async getProfileById(e){const n=await f.get("api/profiles/"+e);c.activeProfile=n.data}async getUsersKeeps(e){const n=await f.get("api/profiles/"+e+"/keeps");c.activeUsersKeeps=n.data}async getUsersVaults(e){const n=await f.get("api/profiles/"+e+"/vaults");c.activeUsersVaults=n.data}}const y=new E,L={setup(){const l=O();return u(async()=>{try{await y.getProfileById(l.params.id)}catch(e){console.error("[COULD_NOT_LOAD_USER]",e.message),g.toast(e.message,"error")}}),u(async()=>{try{await y.getUsersKeeps(l.params.id)}catch(e){console.error("[COULD_NOT_LOAD_KEEPS]",e.message),g.toast(e.message,"error")}}),u(async()=>{try{await y.getUsersVaults(l.params.id)}catch(e){console.error("[COULD_NOT_LOAD_VAULTS]",e.message),g.toast(e.message,"error")}}),{account:m(()=>c.account),activeProfile:m(()=>c.activeProfile),activeUsersVaults:m(()=>c.activeUsersVaults),activeUsersKeeps:m(()=>c.activeUsersKeeps),openVaultModal(){document.getElementById("createVaultForm").reset(),K.getOrCreateInstance(document.getElementById("createVaultModal")).toggle()},openKeepModal(){document.getElementById("createKeepForm").reset(),K.getOrCreateInstance(document.getElementById("createKeepModal")).toggle()}}}},F={key:0,class:"container"},I={class:"row mb-5"},A={class:"row mb-5"},D={class:"comfortaa ms-2"},N=p(" Vaults "),b={class:"comfortaa ms-2"},S=p(" Keeps "),T={class:"masonry-with-columns"},j={key:1,class:"container"},R=r("div",{class:"row mt-5 text-center"},[r("h1",null,"Loading...")],-1),q=[R],z=p(" Create a Keep "),G=p(" Create a Vault ");function H(l,e,n,t,J,Q){const P=i("Profile"),k=i("Vault"),M=i("Keep"),w=i("CreateKeepForm"),V=i("Modal"),B=i("CreateVaultForm");return a(),o(v,null,[t.activeProfile&&t.activeUsersVaults&&t.activeUsersKeeps?(a(),o("div",F,[r("div",I,[d(P)]),r("div",A,[r("h3",D,[N,t.activeProfile.id===t.account.id?(a(),o("i",{key:0,class:"mdi mdi-plus text-primary action",onClick:e[0]||(e[0]=s=>t.openVaultModal())})):U("",!0)]),(a(!0),o(v,null,h(t.activeUsersVaults,s=>(a(),C(k,{key:s.id,vault:s},null,8,["vault"]))),128))]),r("h3",b,[S,t.activeProfile.id===t.account.id?(a(),o("i",{key:0,class:"mdi mdi-plus text-primary action",onClick:e[1]||(e[1]=s=>t.openKeepModal())})):U("",!0)]),r("div",T,[(a(!0),o(v,null,h(t.activeUsersKeeps,s=>(a(),C(M,{key:s.id,keep:s},null,8,["keep"]))),128))])])):(a(),o("div",j,q)),d(V,{id:"createKeepModal"},{title:_(()=>[z]),body:_(()=>[d(w)]),_:1}),d(V,{id:"createVaultModal"},{title:_(()=>[G]),body:_(()=>[d(B)]),_:1})],64)}var Y=x(L,[["render",H]]);export{Y as default};
